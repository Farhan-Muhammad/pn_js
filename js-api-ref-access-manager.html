<p>PubNub Access Manager (PAM) allows you to enforce secure controls for client access to resources within the PubNub network. With PAM, your servers can grant their clients access to individual PubNub resources for a limited duration, with the ability to extend access or add permissions for additional resources.</p><p>As soon as PAM is enabled, no publish/subscribe operations can be done without first explicitly providing an authorization token to the PubNub object. If an invalid token is provided, the requesting client will receive a Forbidden error.</p><p>For more information about PAM, refer to <a href="/docs/platform/security/access-control" title="Managing Permissions with Access Manager">Managing Permissions with Access Manager</a>.</p><hr><h2 class="inpage-link tag-link main-placeholder inline">Grant</h2><div class="custom-popup-main"><a class="popup-button" href="javascript:void(0)" title="Requires Access Manager add-on">Requires <i>Access Manager</i> add-on</a><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Access Manager add-on is enabled for your key. See this page on enabling add-on features on your keys: <br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div>The <code>grant</code> method allows you to grant permissions for one or more resources to one or more <code>authKeys</code>. You may need to make multiple grant calls with an <code>authKey</code> so that you can specify explicit permissions for each <code>channel</code>, <code>channelGroup</code> and <code>uuid</code> resources. For common permissions, you can normally use a single request.</div><p>Privileges specifically granted to an application's <code>subscribeKey</code> always take precedence over privileges granted to <code>channel</code> or auth Key. Therefore an application that requires authentication at the user level should not grant access at either the Application or Channel levels. View the <a href="#grant-rules">Grant Levels</a> section for more details.</p><div class="inpage-link tag-link"><a href="#permissions" data-id="permissions-" title="Permissions" class="title-heading" id="permissions-">Permissions</a></div><div>The grant request allows your server to securely grant access for your clients on the following resources within the platform. Each resource allows a limited set of permissions that control the operations that can be performed by the clients. For permissions and API operations mapping information, refer to <a href="/docs/platform/security/access-control#permissions" title="Managing Permissions with Access Manager">Managing Permissions with Access Manager</a>.</div> <br><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Resource</th><th>Permissions</th></tr></thead><tbody><tr><td><code>channel</code></td><td><code>read</code>, <code>write</code>, <code>get</code>, <code>manage</code>, <code>update</code>, <code>join</code>, <code>delete</code></td></tr><tr><td><code>uuid</code></td><td><code>get</code>, <code>update</code>, <code>delete</code></td></tr><tr><td><code>channelGroup</code></td><td><code>read</code>, <code>manage</code></td></tr></tbody></table></div><div class="inpage-link tag-link"><a href="#wildcard-permissions" data-id="wildcard-permissions-" title="Wildcard Permissions" class="title-heading" id="wildcard-permissions-">Wildcard Permissions</a></div><p>To make granting access on multiple channels and channel groups more efficient, you can use the wildcard notation. It doesn't, however, apply to the <code>uuid</code> resource and you can only go one level deep using wildcards.</p><ul><li><code>*</code> grants access on all channels</li><li><code>a.*</code> grants access on all channels that begin with `a.`</li><li><code> a.b.*</code> doesn't work. If you grant on <code> a.b.*</code>, the grant treats `a.b.*` as a channel name, not a wildcard</li></ul><div class="inpage-link tag-link"><a href="#grant-rules" data-id="grant-rules-" title="Grant Levels" class="title-heading" id="grant-rules-">Grant Levels</a></div><div>When a user attempts to access a PubNub resource, PAM will evaluate any existing rules using the following order of precedence before access to a channel is granted to the user:</div><ol><li><strong>Application Level</strong> - PAM privileges are always evaluated first at the <code>Application</code> level. If either <code>read</code> or <code>write</code> attribute is set to <code>true</code> for a <code>subscribeKey</code>, PAM will immediately grant access for that attribute without proceeding to check permissions at either <code>Channel</code> or <code>User</code> levels. If an attribute is set to <code>false</code> at the Application level, PAM proceeds to evaluate the attribute at the next most granular level.</li><li><strong>Channel Level</strong> - After first verifying an attribute at the Application level, PAM evaluates the attribute at the Channel level. If an attribute is set to <code>true</code> for a combination of <code>subscribeKey</code>, and <code>channel</code>, PAM grants access for that attribute at the <code>Channel</code> level without proceeding to check whether there may be <code>user</code> level permissions.</li><li><strong>User Level (Recommended)</strong> - As a final step PAM evaluates the attributes at the <code>User</code> level. If an attribute is set to <code>true</code> for <code>subscribeKey</code>, <code>channel</code> and auth Key, access is granted for that attribute. Similarly, user level grants also allow you granting an auth Key access to <code>channelGroups</code> and <code>uuids</code>. User level grants require <code>authKeys</code> and are the recommended approach if you need to manage permissions for individual users within your application. Each user should be assigned a unique auth Key and securely passed back to the user to perform operations on the platform.</li></ol><h3 class="inpage-link tag-link">Method(s)</h3><div>To <code>Grant Permissions on a Channel</code> you can use the following method(s) in the JavaScript V4 SDK</div><ol class="ol-margin-extra"><li class="list-inline"><div><code class="inpage-plink tag-link padding-left-0"><a class="title-red" href="#grant_args_1" data-id="grant_args_1-" id="grant_args_1-">grant( <span class="margin-left-1">{Array <code>channels</code>, Array <code>channelGroups</code>, Array <code>uuids</code>, Array <code>authKeys</code>, Number <code>ttl</code>, Boolean <code>read</code>, Boolean <code>write</code>, Boolean <code>manage</code>, Boolean <code>delete</code>, Boolean <code>get</code>, Boolean <code>update</code>, Boolean <code>join</code>},</span> <span class="margin-left-1">Function <code>callback</code></span> )</a></code></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Defaults</th><th>Description</th></tr></thead><tbody><tr><td><code class="margin-left-1">authKeys</code></td><td>Array</td><td>Optional</td><td>&nbsp;</td><td><p>Specifies <code>authKey</code> to grant permissions. It is possible to specify multiple <code>auth</code> keys as comma separated list in combination with a single <code>channel</code> name.</p><p><br><code>authKeys</code> are required for user-level grants. If you donâ€™t specify an <code>authKey</code>, the permissions will apply to all clients on channel-level or application-level. View the <a href="#grant-rules">Grant Levels</a> section for more details.</p></td></tr><tr><td><code class="margin-left-1">channels</code></td><td>Array</td><td>Specifying either <code>channels</code>, <code>channelGroups</code> or <code>uuids</code> is mandatory.</td><td>&nbsp;</td><td><p>Specifies up to 200 channels on which to grant permissions. Either <code>channels</code>, <code>channelGroups</code> or <code>uuids</code> are required.</p></td></tr><tr><td><code class="margin-left-1">channelGroups </code></td><td>Array</td><td>Specifying either <code>channels</code>, <code>channelGroups<small> or </small>uuids</code> is mandatory.</td><td>&nbsp;</td><td><p>Specifies up to 200 channel groups on which to grant permissions. Either <code>channels</code>, <code>channelGroups</code> or <code>uuids</code> are required.</p></td></tr><tr><td><code class="margin-left-1">uuids </code></td><td>Array</td><td>Optional</td><td>&nbsp;</td><td><p>Specifies up to 200 uuids on which to grant permissions. Either <code>channels</code>, <code>channelGroups</code> or <code>uuids</code> are required.<br>&nbsp;</p><p>You can't grant permissions to channels and channel groups in the same request if you decide to use <code>uuids</code>.</p><p>This parameter does <b>not</b> support wildcards.</p></td></tr><tr><td><code class="margin-left-1">ttl </code></td><td>Number</td><td>Yes</td><td><code>1440 (24hrs)</code></td><td><p>Time in minutes for which granted permissions are valid. Default is <code>1440 (24hrs)</code>, Max is <code>525600</code> , Min is <code>1</code>. Setting <code>ttl</code> to <code>0</code> will apply the grant indefinitely.</p><p></p></td></tr><tr><td><code class="margin-left-1">read </code></td><td>Boolean</td><td>Optional</td><td><code>false</code></td><td><p>Set to <code>true</code> to grant <code>read</code> permissions. Set to <code>false</code> to remove permissions.</p></td></tr><tr><td><code class="margin-left-1">write </code></td><td>Boolean</td><td>Optional</td><td><code>false</code></td><td><p>Set to <code>true</code> to grant <code>write</code> permissions. Set to <code>false</code> to remove permissions.</p></td></tr><tr><td><code class="margin-left-1">manage</code></td><td>Boolean</td><td>Optional</td><td><code>false</code></td><td><p>Set to <code>true</code> to grant <code>manage</code> permissions. Set to <code>false</code> to remove permissions.</p></td></tr><tr><td><code class="margin-left-1">delete</code></td><td>Boolean</td><td>Optional</td><td><code>false</code></td><td><p>Set to <code>true</code> to grant <code>delete</code> permissions. Set to <code>false</code> to remove permissions.</p></td></tr><tr><td><code class="margin-left-1">get</code></td><td>Boolean</td><td>Optional</td><td><code>false</code></td><td><p>Set to <code>true</code> to grant <code>get</code> permissions. Set to <code>false</code> to remove permissions.</p></td></tr><tr><td><code class="margin-left-1">update</code></td><td>Boolean</td><td>Optional</td><td><code>false</code></td><td><p>Set to <code>true</code> to grant <code>update</code> permissions. Set to <code>false</code> to remove permissions.</p></td></tr><tr><td><code class="margin-left-1">join</code></td><td>Boolean</td><td>Optional</td><td><code>false</code></td><td><p>Set to <code>true</code> to grant <code>join</code> permissions. Set to <code>false</code> to remove permissions.</p></td></tr><tr><td><code>callback</code></td><td>Function</td><td>Optional</td><td>&nbsp;</td><td><p>Executes on a successful/unsuccessful <code>grant</code>.</p></td></tr></tbody></table></div></li></ol><h3 class="inpage-link tag-link">Basic Usage</h3><div class="inpage-plink tag-link"><a href="#grant-pam-permissions-for-channel-and-auth-key" data-id="grant-pam-permissions-for-channel-and-auth-key-" class="title-red" id="grant-pam-permissions-for-channel-and-auth-key-">Grant PAM Permissions for channel and auth Key</a></div>

<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">authKeys</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my_authkey'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my_channel'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">ttl</span><span class="token operator">:</span> <span class="token number">12313</span><span class="token punctuation">,</span> <span class="token comment">// 0 for infinite</span>
        <span class="token pn-variable pn-before-colon">read</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// false to disallow</span>
        <span class="token pn-variable pn-before-colon">write</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// false to disallow</span>
        <span class="token pn-variable pn-before-colon">manage</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// false to disallow</span>
        <span class="token keyword keyword-delete">delete</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// false to disallow</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle state setting response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<div><div class="inpage-link tag-link"><a href="#Response" data-id="response-" title="Response" class="title-heading" id="response-">Response</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
    <span class="token string">"status"</span> <span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string">"message"</span> <span class="token operator">:</span> <span class="token string">"Success"</span><span class="token punctuation">,</span>
    <span class="token string">"payload"</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"ttl"</span> <span class="token operator">:</span> <span class="token number">1440</span><span class="token punctuation">,</span>
        <span class="token string">"auths"</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"my_authkey"</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">"r"</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token string">"w"</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token string">"m"</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token string">"d"</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token string">"g"</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">"u"</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">"j"</span> <span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"subscribe_key"</span> <span class="token operator">:</span> <span class="token string">"my_subkey"</span><span class="token punctuation">,</span>
        <span class="token string">"level"</span> <span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span>
        <span class="token string">"channel"</span> <span class="token operator">:</span> <span class="token string">"my_channel"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"service"</span> <span class="token operator">:</span> <span class="token string">"Access Manager"</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<table class="table-icon-caution"><tbody><tr><td class="icon"><i class="fa icon icon-caution" title="caution">&nbsp;</i></td><td><div> PAM grant or revoke requests must be less than ~32KiB at a time, or the client will return an error. For requests greater than 32KiB, break them into smaller batched requests. When the message size exceeds 32KiB the server returns the HTTP Error code 500, instead of the correct error code 414.</div></td></tr></tbody></table><table class="table-icon-warning"><tbody><tr><td class="icon"><i class="fa icon icon-warning" title="warning">&nbsp;</i></td><td><div>For NTP synchronization, please ensure that you have configured NTP on your server to keep the clock in sync. This is to prevent system clock drift leading to 400 <code>Invalid Timestamp</code> error response.<br><a href="https://support.pubnub.com/support/solutions/articles/14000043626-why-do-i-get-invalid-timestamp-when-i-try-to-grant-permission-using-access-manager-" target="_blank" title="Getting Invalid Timestamp when trying to grant permission using Access Manager">https://support.pubnub.com/support/solutions/articles/14000043626-why-do-i-get-invalid-timestamp-when-i-try-to-grant-permission-using-access-manager-</a></div></td></tr></tbody></table></div><h3 class="inpage-link tag-link">Other Examples</h3><ol class="ol-margin-extra"><li><div class="inpage-plink tag-link"><a href="#user-level-grant" data-id="user-level-grant-" title="Grant access to a channel on an authKey
" class="title-red" id="user-level-grant-">Grant access to a channel on an authKey</a></div><p> Grant <code>read</code> permission to a channel only for clients with a specific <code>authKey</code> with a 5 minute <code>ttl</code>:</p>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">authKeys</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my_authkey'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my_channel'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">read</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// false to disallow</span>
        <span class="token pn-variable pn-before-colon">write</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// false to disallow</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">status</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link"><a href="#user-level-grant-presence" data-id="user-level-grant-presence-" title="Grant access to presence channel on an authKey" class="title-red" id="user-level-grant-presence-">Grant access to presence channel on an authKey</a></div><p> Grant <code>read</code> and <code>write</code> permissions to anc <code>authKey</code> on a presence channel with a 5 minute <code>ttl</code>:</p>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">authKeys</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my_authkey'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my_channel-pnpres'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">read</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// false to disallow</span>
        <span class="token pn-variable pn-before-colon">write</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// false to disallow</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">status</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link"><a href="#user-level-grant-wildcard" data-id="user-level-grant-wildcard-" title="Grant access to all channel groups using wildcard on an authKey" class="title-red" id="user-level-grant-wildcard-">Grant access to all channel groups using wildcard on an authKey</a></div><p> Allow a user access to all channel groups using a wildcard.</p><p>To perform a first level wildcard grant for channel groups you need to specify : (colon) as the parameter for <code>channelGroups</code>. This ensures that users can read or manage all channel groups.</p>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">authKeys</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my_authkey'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">channelGroups</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">':'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">read</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
        <span class="token pn-variable pn-before-colon">manage</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">status</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link"><a href="#user-level-grant-uuid" data-id="user-level-grant-uuid-" title="Grant access to a UUID on an authKey" class="title-red" id="user-level-grant-uuid-">Grant access to a UUID on an authKey</a></div><p> Grant <code>get</code>, <code>update</code>, and <code>delete</code> access to a <code>uuid</code> only for clients with a specific <code>authKey</code> with a 24 hour <code>ttl</code>:</p>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">authKeys</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'key1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">uuids</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'uuid1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">ttl</span><span class="token operator">:</span> <span class="token number">1440</span><span class="token punctuation">,</span> <span class="token comment">// 0 for infinite</span>
        <span class="token pn-variable pn-before-colon">get</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// false to disallow</span>
        <span class="token pn-variable pn-before-colon">update</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// false to disallow</span>
        <span class="token keyword keyword-delete">delete</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// false to disallow</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">status</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link"><a href="#application-level-grant" data-id="application-level-grant-" title="Grant access to all channels on all authKeys" class="title-red" id="application-level-grant-">Grant access to all channels on all authKeys</a></div><p>This request grants <code>read</code> permission to all users on all channel(s) with default <code>ttl</code> (1440 minutes). This rule applies on the application level and takes precedence over channel and user-level permissions.</p><table class="table-icon-caution"><tbody><tr><td class="icon"><i class="fa icon icon-caution" title="caution">&nbsp;</i></td><td><p><b>Use application level grants with caution</b></p><p>When access is granted on an application level, <code>all channels and users</code> will have access.</p><p>Application level grants can also happen due to a bug in your code. <i>e.g. Null parameters for channels and auth-keys can cause accidental application level grants.</i></p></td></tr></tbody></table>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">read</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link"><a href="#channel-level-grant" data-id="channel-level-grant-" title="Grant access to a channel on all authKeys" class="title-red" id="channel-level-grant-">Grant access to a channel on all authKeys</a></div><p>This request grants <code>read</code> and <code>write</code> permissions to a specific channel for all users (no <code>authKey</code> required) with default <code>ttl</code> (1440 minutes). This rule applies on the channel level and takes precedence over user-level permissions.</p>

<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">grant</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my_channel'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">read</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// false to disallow</span>
        <span class="token pn-variable pn-before-colon">write</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// false to disallow</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">status</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

</li></ol>