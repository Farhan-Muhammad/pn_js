<p>Presence enables you to track the online and offline status of users and devices in real time, as well as store custom state information. Presence provides authoritative information on:</p><ul><li>When a user has joined or left a channel</li><li>Who, and how many, users are subscribed to a particular channel</li><li>Which channel(s) an individual user is subscribed to</li><li>Associated state information for these users</li></ul><p>Learn more about our Presence feature <a href="/docs/platform/events/presence" title="PubNub Presence Tutorial">here</a>.</p><hr><h2 class="inpage-link tag-link main-placeholder inline">Here Now</h2><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><h3 class="inpage-link tag-link">Description</h3><div>You can obtain information about the current state of a channel including a list of unique user-ids currently subscribed to the channel and the total occupancy count of the channel by calling the <code>hereNow()</code> function in your application.</div><h3 class="inpage-link tag-link">Method(s)</h3><div>To call <code>Here Now</code> you can use the following method(s) in the JavaScript V4 SDK:</div><ol class="ol-margin-extra"><li class="list-inline"><div><code class="inpage-plink tag-link padding-left-0"> <a href="#here_now_args_1" data-id="here_now_args_1-" title="Here Now Argument" class="title-red" id="here_now_args_1-"> hereNow(<br> <span class="margin-left-1">{Array <code>channels</code>, Array <code>channelGroups</code>, Boolean <code>includeUUIDs</code>, Boolean <code>includeState</code>},</span> <span class="margin-left-1">Function <code>callback</code></span> )</a></code></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Defaults</th><th>Description</th></tr></thead><tbody><tr><td>Operation Arguments</td><td>Hash</td><td>Yes</td><td></td><td>A hash of arguments.</td></tr><tr><td><code class="margin-left-1">channels </code></td><td>Array</td><td>Optional</td><td></td><td>Specifies the <code>channel</code> name to return occupancy results. If <code>channel</code> is not provided, <code>hereNow()</code> will return data for all <code>channels</code>.</td></tr><tr><td><code class="margin-left-1">channelGroups </code></td><td>Array</td><td>Optional</td><td></td><td>The <code>channel group</code> for which here now information should be received.</td></tr><tr><td><code class="margin-left-1">includeUUIDs </code></td><td> Boolean</td><td> Optional</td><td><code>true</code></td><td>Setting <code>uuid</code> to <code>false</code> disables the return of uuids.</td></tr><tr><td><code class="margin-left-1">includeState </code></td><td>Boolean</td><td>Optional</td><td><code>false</code></td><td>Setting state to <code>true</code> enables the return of subscriber state information.</td></tr><tr><td><code>callback</code></td><td>Function</td><td>Optional</td><td></td><td>Executes on a successful/unsuccessful <code>hereNow</code>.</td></tr></tbody></table></div></li></ol><h3 class="inpage-link tag-link">Basic Usage</h3><div class="inpage-plink tag-link"><a href="#here_now_basic_usage_1" data-id="here_now_basic_usage_1-" title="Get a list of UUIDs subscribed to channel" class="title-red" id="here_now_basic_usage_1-">Get a list of UUIDs subscribed to channel:</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"ch1"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
        <span class="token pn-variable pn-before-colon">channelGroups</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"cg1"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">includeUUIDs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">includeState</span><span class="token operator">:</span> <span class="token boolean">true</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle status, response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h3 class="inpage-link tag-link">Response</h3>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">type</span> <span class="token pn-variable pn-before-equal">hereNowResponse</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">totalChannels</span><span class="token operator">:</span> <span class="token pn-variable">number</span><span class="token punctuation">,</span> <span class="token comment">// totalChannels = get total of channels</span>
    <span class="token pn-variable pn-before-colon">totalOccupancy</span><span class="token operator">:</span> <span class="token pn-variable">number</span><span class="token punctuation">,</span> <span class="token comment">// totalOccupancy = get total of occupancies</span>
    <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token pn-variable">object</span> <span class="token comment">// channels = get a map with values for each channel with uuids and states for each occupant of the channel</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h3 class="inpage-link tag-link">Other Examples</h3><ol class="ol-margin-extra"><li><div class="inpage-plink tag-link inline"><a href="#here_now_example_1" data-id="here_now_example_1-" class="title-red" title="Returning State" id="here_now_example_1-">Returning State:</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"my_channel"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">includeState</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle status, response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<div class="inpage-plink tag-link"><a href="#here_now_example_1_exp_response" data-id="here_now_example_1_exp_response-" class="title-red" id="here_now_example_1_exp_response-">Example Response:</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment">// Example of Status</span>
<span class="token punctuation">{</span>
    <span class="token string">"error"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">"operation"</span><span class="token operator">:</span> <span class="token string">"PNHereNowOperation"</span><span class="token punctuation">,</span>
    <span class="token string">"statusCode"</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of Response</span>
<span class="token punctuation">{</span>
    <span class="token string">"totalChannels"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">"totalOccupancy"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">"channels"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"my_channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"occupants"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User 1"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"state"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token string">"age"</span><span class="token operator">:</span> <span class="token number">18</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User 2"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"state"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token string">"age"</span><span class="token operator">:</span> <span class="token number">24</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User 3"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"my_channel"</span><span class="token punctuation">,</span>
            <span class="token string">"occupancy"</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><div class="inpage-plink tag-link inline"><a href="#here_now_example_3" data-id="here_now_example_3-" class="title-red" title="Return Occupancy Only" id="here_now_example_3-">Return <code>Occupancy</code> Only:</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div>You can return only the <code>occupancy</code> information for a single channel by specifying the channel and setting <code>UUIDs</code> to false:</div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"my_channel"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">includeUUIDs</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle status, response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<div class="inpage-plink tag-link"><a href="#here_now_example_3_exp_response" data-id="here_now_example_3_exp_response-" class="title-red" id="here_now_example_3_exp_response-">Example Response:</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment">// Example of Status</span>
<span class="token punctuation">{</span>
    <span class="token string">"error"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">"operation"</span><span class="token operator">:</span> <span class="token string">"PNHereNowOperation"</span><span class="token punctuation">,</span>
    <span class="token string">"statusCode"</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of Response</span>
<span class="token punctuation">{</span>
    <span class="token string">"totalChannels"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">"totalOccupancy"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">"channels"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"my_channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"occupants"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"my_channel"</span><span class="token punctuation">,</span>
            <span class="token string">"occupancy"</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link inline"><a href="#here_now_example_2" data-id="here_now_example_2-" class="title-red" title="Returning UUIDs and occupancy for all channels" id="here_now_example_2-">Returning <code>UUIDs</code> and <code>occupancy</code> for all <code>channels</code>:</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled with Global Here Now checked for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div>You can return the list of <code>UUIDs</code> and <code>occupancy</code> for all <code>channels</code> by omitting the channel:</div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">includeUUIDs</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle status, response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<div class="inpage-plink tag-link"><a href="#here_now_example_2_exp_response" data-id="here_now_example_2_exp_response-" class="title-red" id="here_now_example_2_exp_response-">Example Response:</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment">// Example of Status</span>
<span class="token punctuation">{</span>
    <span class="token string">"error"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">"operation"</span><span class="token operator">:</span> <span class="token string">"PNHereNowOperation"</span><span class="token punctuation">,</span>
    <span class="token string">"statusCode"</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of Response</span>
<span class="token punctuation">{</span>
    <span class="token string">"totalChannels"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">"totalOccupancy"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">"channels"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"my_channel_2"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"occupants"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"state"</span><span class="token operator">:</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User2"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"my_channel_2"</span><span class="token punctuation">,</span>
            <span class="token string">"occupancy"</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"my_channel_1"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"occupants"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"state"</span><span class="token operator">:</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User1"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"state"</span><span class="token operator">:</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User3"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"my_channel_1"</span><span class="token punctuation">,</span>
            <span class="token string">"occupancy"</span><span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link inline"><a href="#here-now-occupancy" data-id="here-now-occupancy-" title="Return Occupancy for all channels" class="title-red" id="here-now-occupancy-">Return <code>Occupancy</code> for all channels:</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled with Global Here Now checked for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div>You can return only the <code>occupancy</code> information <code>(Global Here Now)</code> by omitting the <code>channel name</code></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">includeUUIDs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">includeState</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle status, response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<div class="inpage-plink tag-link"><a href="#here-now-occupancy-response" data-id="here-now-occupancy-response-" title="Example Response: Return Occupancy" class="title-red" id="here-now-occupancy-response-">Example Response:</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment">// Example of Status</span>
<span class="token punctuation">{</span>
    <span class="token string">"error"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">"operation"</span><span class="token operator">:</span> <span class="token string">"PNHereNowOperation"</span><span class="token punctuation">,</span>
    <span class="token string">"statusCode"</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of Response</span>
<span class="token punctuation">{</span>
    <span class="token string">"totalChannels"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">"totalOccupancy"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">"channels"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"my_channel_2"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"occupants"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User2"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"my_channel_2"</span><span class="token punctuation">,</span>
            <span class="token string">"occupancy"</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"my_channel_1"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"occupants"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"state"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token string">"age"</span><span class="token operator">:</span> <span class="token number">24</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User 3"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User1"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"my_channel_1"</span><span class="token punctuation">,</span>
            <span class="token string">"occupancy"</span><span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link inline"><a href="#here-now-channel-group-usage" data-id="here-now-channel-group-usage-" title="Channel Group Usage" class="title-red" id="here-now-channel-group-usage-">Channel Group Usage :</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">channelGroups</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"my_channel_group"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle status, response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<div class="inpage-plink tag-link"><a href="#here-now-channel-group-usage-response" data-id="here-now-channel-group-usage-response-" class="title-red" id="here-now-channel-group-usage-response-">Example Response:</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment">// Example of Status</span>
<span class="token punctuation">{</span>
    <span class="token string">"error"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">"operation"</span><span class="token operator">:</span> <span class="token string">"PNHereNowOperation"</span><span class="token punctuation">,</span>
    <span class="token string">"statusCode"</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of Response</span>
<span class="token punctuation">{</span>
    <span class="token string">"totalChannels"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">"totalOccupancy"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">"channels"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"my_channel_1"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"occupants"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"state"</span><span class="token operator">:</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User1"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"state"</span><span class="token operator">:</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User3"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"my_channel_1"</span><span class="token punctuation">,</span>
            <span class="token string">"occupancy"</span><span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"my_channel_2"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">"occupants"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"state"</span><span class="token operator">:</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
                    <span class="token string">"uuid"</span><span class="token operator">:</span> <span class="token string">"User2"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"my_channel_2"</span><span class="token punctuation">,</span>
            <span class="token string">"occupancy"</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

</li><li><div class="inpage-plink tag-link inline"><a href="#here-now-basic-usage-using-promises" data-id="here-now-basic-usage-using-promises-" title="Basic usage using Promises" class="title-red" id="here-now-basic-usage-using-promises-">Basic usage using Promises</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"ch1"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
    <span class="token pn-variable pn-before-colon">channelGroups</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"cg1"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">includeUUIDs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">includeState</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">response</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">error</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">error</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link inline"><a href="#here-now-returning-state-using-promises" data-id="here-now-returning-state-using-promises-" class="title-red" title="Returning State using Promises" id="here-now-returning-state-using-promises-">Returning State using Promises:</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"my_channel"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">includeState</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">response</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">error</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">error</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link inline"><a href="#here-now-return-occupancy-using-promises" data-id="here-now-return-occupancy-using-promises-" class="title-red" title="Return Occupancy Only using Promises" id="here-now-return-occupancy-using-promises-">Return <code>Occupancy</code> Only using Promises:</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div>You can return only the <code>occupancy</code> information for a single channel by specifying the channel and setting <code>uuids</code> to false:</div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"my_channel"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">includeUUIDs</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">response</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">error</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">error</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

</li><li><div class="inpage-plink tag-link inline"><a href="#here-now-return-uuids-occupancy-using-promises" data-id="here-now-return-uuids-occupancy-using-promises-" class="title-red" title="Returning uuids and occupancy for all channels using Promises" id="here-now-return-uuids-occupancy-using-promises-">Returning <code>uuids</code> and <code>occupancy</code> for all <code>channels</code> using Promises:</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled with Global Here Now checked for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div>You can return the list of <code>uuids</code> and <code>occupancy</code> for all <code>channels</code> by omitting the channel:</div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">includeUUIDs</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">response</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">error</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">error</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>


</li><li><div class="inpage-plink tag-link inline"><a href="#here-now-return-uuids-using-promises" data-id="here-now-return-uuids-using-promises-" class="title-red" title="Return Occupancy for all channels" id="here-now-return-uuids-using-promises-">Return <code>Occupancy</code> for all channels using Promises:</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled with Global Here Now checked for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div>You can return only the <code>occupancy</code> information <code>(Global Here Now)</code> by omitting the <code>channel name</code></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">includeUUIDs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">includeState</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">response</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">error</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">error</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

</li><li><div class="inpage-plink tag-link inline"><a href="#here-now-channel-group-usage-using-promises" data-id="here-now-channel-group-usage-using-promises-" title="Channel Group Usage using Promises" class="title-red" id="here-now-channel-group-usage-using-promises-">Channel Group Usage using Promises:</a></div><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">hereNow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">channelGroups</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"my_channel_group"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">response</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">error</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">error</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li></ol><hr><h2 class="inpage-link tag-link main-placeholder inline">Where Now</h2><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><h3 class="inpage-link tag-link">Description</h3><div>You can obtain information about the current list of channels to which a UUID is subscribed to by calling the <code>whereNow</code> function in your application.</div><table class="table-icon-note"><tbody><tr><td class="icon"><i class="fa icon icon-note" title="note">&nbsp;</i></td><td><div>If the app is killed/crashes and restarted (or the page containing the PubNub instance is refreshed on the browser) within the heartbeat window no timeout event is generated.</div></td></tr></tbody></table><h3 class="inpage-link tag-link">Method(s)</h3><div>To call <code>whereNow</code> you can use the following method(s) in the JavaScript V4 SDK:</div><ol class="ol-margin-extra"><li><div><code class="inpage-plink tag-link padding-left-0"><a href="#where_now_args_1" data-id="where_now_args_1-" title="Where Now Argument" class="title-red" id="where_now_args_1-">whereNow (<span class="margin-left-1">{String <code>uuid</code>},</span><span class="margin-left-1">Function <code>callback</code></span>)</a></code></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Defaults</th><th>Description</th></tr></thead><tbody><tr><td>Operation Arguments</td><td>Hash</td><td>Yes</td><td></td><td>A hash of arguments.</td></tr><tr><td><code class="margin-left-1"> uuid </code></td><td> String</td><td> Optional</td><td><code>current uuid</code></td><td>Specifies the <code>uuid</code> to return channel list for.</td></tr><tr><td><code>callback</code></td><td>Function</td><td>Optional</td><td></td><td>Executes on a successful/unsuccessful <code>whereNow</code>.</td></tr></tbody></table></div></li></ol><h3 class="inpage-link tag-link">Basic Usage</h3><div>You simply need to define the <code>uuid</code> and the <code>callback</code> function to be used to send the data to as in the example below.</div><div class="inpage-link tag-link"><a href="#where_now_basic_usage_1" data-id="where_now_basic_usage_1-" title="Get a list of channels a UUID is subscribed to" class="title-red" id="where_now_basic_usage_1-">Get a list of channels a UUID is subscribed to:</a></div>

<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">whereNow</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">uuid</span><span class="token operator">:</span> <span class="token string">"uuid"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle status, response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h3 class="inpage-link tag-link">Response</h3>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment">// Example of Status</span>
<span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">error</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">operation</span><span class="token operator">:</span> <span class="token string">"PNWhereNowOperation"</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">statusCode</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of Response</span>
<span class="token punctuation">{</span>
    <span class="token string">"channels"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"ch1"</span><span class="token punctuation">,</span> <span class="token string">"ch2"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>


<h3 class="inpage-link tag-link">Other Examples</h3><ol class="ol-margin-extra"><li><div class="inpage-plink tag-link"><a href="#where-now-basic-usage-using-promises" data-id="where-now-basic-usage-using-promises-" title="Basic usage using Promises" class="title-red" id="where-now-basic-usage-using-promises-">Basic usage using Promises</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">whereNow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    <span class="token pn-variable pn-before-colon">uuid</span><span class="token operator">:</span> <span class="token string">"uuid"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">error</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">error</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li></ol><hr><h2 class="inpage-link tag-link main-placeholder inline">User State</h2><div class="custom-popup-main"><span class="popup-button">Requires <i>Presence</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Presence add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><h3 class="inpage-link tag-link">Description</h3><div>The state API is used to set/get key/value pairs specific to a subscriber <code>uuid</code>.</div><div>State information is supplied as a JSON object of key/value pairs.</div><h3 class="inpage-link tag-link">Method(s)</h3><div class="inpage-plink tag-link"><a href="#set-state-arguments" data-id="set-state-arguments-" title="Set State Arguments" class="title-red" id="set-state-arguments-">Set State :</a></div><ol><li><div><code class="inpage-plink tag-link padding-left-0"><a href="#state-args-1" data-id="state-args-1-" title="State Argument 1" class="title-red" id="state-args-1-">setState(<span class="margin-left-1">{Array <code>channels</code>, Array <code>channelGroups</code>, Object <code>state</code>},</span><span class="margin-left-1">Function <code>callback</code></span>) </a></code></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>Operation Arguments</td><td>Hash</td><td>Yes</td><td>A hash of arguments.</td></tr><tr><td><code class="margin-left-1">channels</code></td><td>Array</td><td>Optional</td><td>Either <code>channels</code> or <code>channelGroups</code> should be provided, Specifies the <code>channels</code> to set the state.</td></tr><tr><td><code class="margin-left-1">channelGroups</code></td><td>Array</td><td>Optional</td><td>Either <code>channels</code> or <code>channelGroups</code> should be provided, Specifies the Channel Group to set the state</td></tr><tr><td><code class="margin-left-1"> state </code></td><td>Object</td><td>Optional</td><td><p>JSON object of key/value pairs with supported data-types of int, float and string. Nesting of key/values is not permitted and key names beginning with prefix <code>pn</code> are reserved.</p><p>If the state parameter is undefined, the current state for the specified <code>uuid</code> will be returned. If a specified key already exists for the <code>uuid</code> it will be over-written with the new value. Key values can be deleted by setting the particular value to <code>null</code>.</p></td></tr><tr><td><code>callback</code></td><td>Function</td><td>Optional</td><td>Executes on a successful/unsuccessful <code>setState</code>.</td></tr></tbody></table></div></li></ol><div class="inpage-plink tag-link"><a href="#get-state-arguments" data-id="get-state-arguments-" title="Get State Arguments" class="title-red" id="get-state-arguments-">Get State :</a></div><ol class="ol-margin-extra"><li><div><code class="inpage-plink tag-link padding-left-0"><a href="#get-state-arg-1" data-id="get-state-arg-1-" title="State Argument 2" class="title-red" id="get-state-arg-1-">getState(<span class="margin-left-1">{String <code>uuid</code>, Array<code>channels</code>, Array<code>channelGroups</code>},</span><span class="margin-left-1">Function <code>callback</code></span>)</a></code></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Defaults</th><th>Description</th></tr></thead><tbody><tr><td>Operation Arguments</td><td>Hash</td><td>Yes</td><td></td><td>A hash of arguments.</td></tr><tr><td><code class="margin-left-1">uuid</code></td><td>String</td><td>Optional</td><td><code>current uuid</code></td><td>The subscriber <code>uuid</code> to get the current state.</td></tr><tr><td><code class="margin-left-1">channels</code></td><td>Array</td><td>Optional</td><td></td><td>Either <code>channels</code> or <code>channelGroups</code> should be provided, Specifies the <code>channels</code> to get the state.</td></tr><tr><td><code class="margin-left-1">channelGroups </code></td><td>Array</td><td>Optional</td><td></td><td>Either <code>channels</code> or <code>channelGroups</code> should be provided, Specifies the Channel Group to get the state.</td></tr><tr><td><code>callback</code></td><td>Function</td><td>Optional</td><td></td><td>Executes on a successful/unsuccessful <code>getState</code>.</td></tr></tbody></table></div></li></ol><h3 class="inpage-link tag-link">Basic Usage</h3><div class="inpage-plink tag-link"><a href="#set-state-usage" data-id="set-state-usage-" title="Set State" class="title-red" id="set-state-usage-">Set State :</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">state</span><span class="token operator">:</span> <span class="token pn-variable">newState</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'ch1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">channelGroups</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'cg1'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle status, response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>	
<div class="inpage-plink tag-link"><a href="#get-state-usage" data-id="get-state-usage-" title="Get State" class="title-red" id="get-state-usage-">Get State :</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">uuid</span><span class="token operator">:</span> <span class="token string">"uuid"</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'ch1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">channelGroups</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'cg1'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// handle status, response</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<h3 class="inpage-link tag-link">Response</h3><div class="inpage-plink tag-link"><a href="#set-state-returns" data-id="set-state-returns-" title="Set State" class="title-red" id="set-state-returns-">Set State :</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment">// Example of Status</span>
<span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">error</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">operation</span><span class="token operator">:</span> <span class="token string">"PNSetStateOperation"</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">statusCode</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of Response</span>
<span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">me</span><span class="token operator">:</span> <span class="token string">'typing'</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>

<div class="inpage-plink tag-link"><a href="#get-state-returns" data-id="get-state-returns-" title="Get State" class="title-red" id="get-state-returns-">Get State :</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment">// Example of Status</span>
<span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">error</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">operation</span><span class="token operator">:</span> <span class="token string">"PNGetStateOperation"</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">statusCode</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of Response</span>
<span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">ch1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token pn-variable pn-before-colon">me</span><span class="token operator">:</span> <span class="token string">'typing'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>


<h3 class="inpage-link tag-link">Other Examples</h3><ol class="ol-margin-extra"><li><div class="inpage-plink tag-link"><a href="#set-state-basic-usage-using-promises" data-id="set-state-basic-usage-using-promises-" title="Set State Basic usage using Promises" class="title-red" id="set-state-basic-usage-using-promises-">Set State Basic usage using Promises</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">state</span><span class="token operator">:</span> <span class="token pn-variable">newState</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'ch1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">channelGroups</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'cg1'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">response</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">error</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">error</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li><li><div class="inpage-plink tag-link"><a href="#get-state-basic-usage-using-promises" data-id="get-state-basic-usage-using-promises-" title="Get State Basic usage using Promises" class="title-red" id="get-state-basic-usage-using-promises-">Get State Basic usage using Promises</a></div>
<div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token pn-variable pn-before-colon">uuid</span><span class="token operator">:</span> <span class="token string">"uuid"</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">channels</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'ch1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token pn-variable pn-before-colon">channelGroups</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'cg1'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">response</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter pn-before-equal-greater"><span class="token pn-variable">error</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token pn-variable">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token pn-variable">error</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</li></ol>