<p>Add or remove actions on published messages to build features like receipts, reactions, or to associate custom metadata to messages. Clients can subscribe to a channel to receive message action events on that channel. They can also fetch past message actions from PubNub Storage independently or when they fetch original messages.</p><hr><h2 class="inpage-link tag-link main-placeholder inline">Add Message Action</h2><div class="custom-popup-main"><span class="popup-button">Requires <i>Storage &amp; Playback</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Storage &amp; Playback add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div><h3 class="inpage-link tag-link">Description</h3><p>Add an action on a published <code>message</code>. Returns the added action in the response.</p><h3 class="inpage-link tag-link">Method(s)</h3><p>To Add a Message Action you can use the following method(s) in the JavaScript V4 SDK:</p><ol><li><div> <code class="inpage-plink tag-link block"><a class="title-red" href="#message-actions-add-arg" data-id="message-actions-add-arg-" title="Add Message Action Arguments" id="message-actions-add-arg-">addMessageAction(<br> &nbsp;&nbsp;&nbsp;&nbsp;{String <code>channel</code>, String <code>messageTimetoken</code>, action: {String <code>type</code>, String <code>value</code>}},<br> &nbsp;&nbsp;&nbsp;&nbsp;Function <code>callback</code><br> )</a></code></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>Operation Arguments</td><td>Hash</td><td>Yes</td><td>A hash of arguments.</td></tr><tr><td><code class="margin-left-1">channel</code></td><td>String</td><td>Yes</td><td>Name of channel which stores the message for which <code>action</code> should be added.</td></tr><tr><td><code class="margin-left-1">message<wbr>Timetoken</code></td><td>String</td><td>Yes</td><td>Timetoken of message for which <code>action</code> should be added.</td></tr><tr><td><code class="margin-left-1">action</code></td><td>Hash</td><td>Yes</td><td>Message <code>action</code> information.</td></tr><tr><td><code class="margin-left-1">action.type</code></td><td>String</td><td>Yes</td><td>What feature this <code>message action</code> represents.</td></tr><tr><td><code class="margin-left-1">action.value</code></td><td>String</td><td>Yes</td><td>Value which should be stored along with <code>message action</code>.</td></tr><tr><td><code>callback</code></td><td>Function</td><td>Optional</td><td>Executes on a successful / unsuccessful <code>add message action</code>.</td></tr></tbody></table></div></li></ol><h3 class="inpage-link tag-link">Basic Usage</h3>
    <div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">addMessageAction</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">channel</span><span class="token operator">:</span> <span class="token string">'channel1'</span>
        <span class="token pn-variable pn-before-colon">messageTimetoken</span><span class="token operator">:</span> <span class="token string">'15610547826970040'</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">action</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token pn-variable pn-before-colon">type</span><span class="token operator">:</span> <span class="token string">'reaction'</span><span class="token punctuation">,</span>
            <span class="token pn-variable pn-before-colon">value</span><span class="token operator">:</span> <span class="token string">'smiley_face'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
    
    <h3 class="inpage-link tag-link">Returns</h3>
    <div class="code-toolbar"><pre class="line-numbers language-json"><code class="language-json"><span class="token comment">// Example of status</span>
<span class="token punctuation">{</span>
    <span class="token property">"error"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"operation"</span><span class="token operator">:</span> <span class="token string">"PNAddMessageActionOperation"</span><span class="token punctuation">,</span>
    <span class="token property">"statusCode"</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of response</span>
<span class="token punctuation">{</span>
    <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"reaction"</span><span class="token punctuation">,</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"smiley_face"</span><span class="token punctuation">,</span>
        <span class="token property">"uuid"</span><span class="token operator">:</span> <span class="token string">"user-456"</span><span class="token punctuation">,</span>
        <span class="token property">"actionTimetoken"</span><span class="token operator">:</span> <span class="token string">"15610547826970050"</span><span class="token punctuation">,</span>
        <span class="token property">"messageTimetoken"</span><span class="token operator">:</span> <span class="token string">"15610547826969050"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</div><hr><h2 class="inpage-link tag-link main-placeholder inline">Remove Message Action</h2><div class="custom-popup-main"><span class="popup-button">Requires <i>Storage &amp; Playback</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Storage &amp; Playback add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div><h3 class="inpage-link tag-link">Description</h3><p>Remove a peviously added action on a published <code>message</code>. Returns an empty response.</p><h3 class="inpage-link tag-link">Method(s)</h3><p>To Remove a Message Action you can use the following method(s) in the JavaScript V4 SDK:</p><ol><li><div><code class="inpage-plink tag-link block"><a href="#message-actions-remove-arg" data-id="message-actions-remove-arg-" class="title-red" title="Remove Message Action Arguments" id="message-actions-remove-arg-">removeMessageAction(<br>&nbsp;&nbsp;&nbsp;&nbsp;{String <code>channel</code>, String <code>messageTimetoken</code>, String <code>actionTimetoken</code>},<br>&nbsp;&nbsp;&nbsp;&nbsp;Function <code>callback</code><br>)</a></code></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>Operation Arguments</td><td>Hash</td><td>Yes</td><td>A hash of arguments.</td></tr><tr><td><code class="margin-left-1">channel</code></td><td>String</td><td>Yes</td><td>Name of channel which store message for which <code>action</code> should be removed.</td></tr><tr><td><code class="margin-left-1">message<wbr>Timetoken</code></td><td>String</td><td>Yes</td><td>Timetoken of message for which <code>action</code> should be removed.</td></tr><tr><td><code class="margin-left-1">action<wbr>Timetoken</code></td><td>String</td><td>Yes</td><td><code>Action</code> addition timetoken.</td></tr><tr><td><code>callback</code></td><td>Function</td><td>Optional</td><td>Executes on a successful / unsuccessful <code>remove message action</code>.</td></tr></tbody></table></div></li></ol><h3 class="inpage-link tag-link">Basic Usage</h3>
    <div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">removeMessageAction</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">channel</span><span class="token operator">:</span> <span class="token string">'channel1'</span>
        <span class="token pn-variable pn-before-colon">messageTimetoken</span><span class="token operator">:</span> <span class="token string">'15610547826970040'</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">actionTimetoken</span><span class="token operator">:</span> <span class="token string">'15610547826970040'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
    
    <h3 class="inpage-link tag-link">Returns</h3>
    <div class="code-toolbar"><pre class="line-numbers language-json"><code class="language-json"><span class="token comment">// Example of status</span>
<span class="token punctuation">{</span>
    <span class="token property">"error"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"operation"</span><span class="token operator">:</span> <span class="token string">"PNRemoveMessageActionOperation"</span><span class="token punctuation">,</span>
    <span class="token property">"statusCode"</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of response</span>
<span class="token punctuation">{</span>
    <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</div><hr><h2 class="inpage-link tag-link main-placeholder inline">Get Message Actions</h2><div class="custom-popup-main"><span class="popup-button">Requires <i>Storage &amp; Playback</i> add-on</span><span class="popup-content"> <a title="Close" href="javascript:void(0)" class="custom-popup-close">X</a><span class="inner-content">Requires that the Storage &amp; Playback add-on is enabled for your key. See this page on enabling add-on features on your keys:<br><br><a href="/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys" target="_blank" title="Open in New window">http://www.pubnub.com/knowledge-base/discussion/644/how-do-i-enable-add-on-features-for-my-keys</a>.</span></span></div><div><h3 class="inpage-link tag-link">Description</h3><p>Get a list of message actions in a <code>channel</code>. Returns a list of actions in the response.</p><h3 class="inpage-link tag-link">Method(s)</h3><p>To Get Message Actions you can use the following method(s) in the JavaScript V4 SDK:</p><ol><li><div><code class="inpage-plink tag-link block"><a href="#message-actions-get-arg" data-id="message-actions-get-arg-" class="title-red" title="Get Message Actions Arguments" id="message-actions-get-arg-">getMessageActions(<br>&nbsp;&nbsp;&nbsp;&nbsp;{String <code>channel</code>, String <code>start</code>, String <code>end</code>, Number <code>limit</code>},<br>&nbsp;&nbsp;&nbsp;&nbsp;Function <code>callback</code><br>)</a></code></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>Operation Arguments</td><td>Hash</td><td>Yes</td><td>A hash of arguments.</td></tr><tr><td><code class="margin-left-1">channel</code></td><td>String</td><td>Yes</td><td>Name of channel from which list of messages <code>actions</code> should be retrieved.</td></tr><tr><td><code class="margin-left-1">start</code></td><td>String</td><td>Optional</td><td><code>Message action</code> timetoken denoting the start of the range requested. <br>Return values will be less than start.</td></tr><tr><td><code class="margin-left-1">end</code></td><td>String</td><td>Optional</td><td><code>Message action</code> timetoken denoting the end of the range requested. <br>Return values will be greater than or equal to end.</td></tr><tr><td><code class="margin-left-1">limit</code></td><td>Number</td><td>Optional</td><td>Number of <code>message actions</code> to return in response.</td></tr><tr><td><code>callback</code></td><td>Function</td><td>Optional</td><td>Executes on a successful / unsuccessful <code>fetch message actions</code>.</td></tr></tbody></table></div></li></ol><h3 class="inpage-link tag-link">Basic Usage</h3>
    <div class="code-toolbar"><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token pn-variable">pubnub</span><span class="token punctuation">.</span><span class="token function">getMessageActions</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        <span class="token pn-variable pn-before-colon">channel</span><span class="token operator">:</span> <span class="token string">'channel1'</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">start</span><span class="token operator">:</span> <span class="token string">'15610547826970041'</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">end</span><span class="token operator">:</span> <span class="token string">'15610547826970040'</span><span class="token punctuation">,</span>
        <span class="token pn-variable pn-before-colon">limit</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token pn-variable">status</span><span class="token punctuation">,</span> <span class="token pn-variable">response</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
    
    <h3 class="inpage-link tag-link">Returns</h3>
    <div class="code-toolbar"><pre class="line-numbers language-json"><code class="language-json"><span class="token comment">// Example of status</span>
<span class="token punctuation">{</span>
    <span class="token property">"error"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"operation"</span><span class="token operator">:</span> <span class="token string">"PNGetMessageActionsOperation"</span><span class="token punctuation">,</span>
    <span class="token property">"statusCode"</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>

<span class="token comment">// Example of response</span>
<span class="token punctuation">{</span>
    <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"reaction"</span><span class="token punctuation">,</span>
            <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"smiley_face"</span><span class="token punctuation">,</span>
            <span class="token property">"uuid"</span><span class="token operator">:</span> <span class="token string">"user-456"</span><span class="token punctuation">,</span>
            <span class="token property">"actionTimetoken"</span><span class="token operator">:</span> <span class="token string">"15610547826970050"</span><span class="token punctuation">,</span>
            <span class="token property">"messageTimetoken"</span><span class="token operator">:</span> <span class="token string">"15610547826969050"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"15646822873784630"</span><span class="token punctuation">,</span>
    <span class="token property">"end"</span><span class="token operator">:</span> <span class="token string">"15645905639093361"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</div>